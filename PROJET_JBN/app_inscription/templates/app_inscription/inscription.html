{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription</title>
    <link rel="icon" type="image/png" href="{% static 'icone/CBA.png' %}">
     <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <!-- CSS Custom -->
     <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'app_inscription/css/inscript.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/role-control.js' %}"></script>

</head>
<body>

    <div class="sidebar">
       <div class="logo">
     <img src="{% static '/icone/CBA.png' %}" alt="Logo SGCBA" class="logo-img">  
    <span>SGCBA</span>
</div>

       <nav>
  <ul>
    <li id="menu-dashboard"><a href="{% url 'tableau_de_bord' %}"><i class="fas fa-th-large"></i>TABLEAU DE BORD</a></li>
    <li id="menu-inscription"><a href="{% url 'inscription' %}"class="active"><i class="fa-solid fa-notes-medical"></i> Inscription</a></li>
    <li id="menu-eleve"><a href="{% url 'eleve' %}"><i class="fa-solid fa-user-tie"></i> Eleve</a></li>
    <li id="menu-presence"><a href="{% url 'presence' %}"><i class="fas fa-chalkboard-teacher"></i> Presence</a></li>
    <li id="menu-note"><a href="{% url 'note' %}"><i class='bx bx-note'></i> Note</a></li>
    <li id="menu-bulletin"><a href="{% url 'bulletin' %}"><i class="fa-solid fa-square-poll-horizontal"></i> Bulletin</a></li>
    <li id="menu-utilisateur"><a href="{% url 'utilisateurs' %}"><i class="fa-solid fa-user"></i> Utilisateur</a></li>
    <li id="menu-parametre"><a href="{% url 'parametre' %}"><i class="fa-solid fa-gear"></i> Parametres</a></li>
  </ul>
</nav>
       
    </div>

    <div class="main-content">
        <div class="header">
            <h1>INSCRIPTION</h1>
            <div class="search-profile">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Rechercher Inscription, Élèves, Pre...">
                </div>
               <div class="profile">
    <i class="fas fa-bell notification-icon"></i>
    <div class="user-avatar" id="profileDropdownToggle">
        <img src="{{ user_photo|default:'/static/image/pro.png' }}">
    </div>

    <!-- Dropdown menu -->
    <div class="profile-dropdown" id="profileDropdown">
        <ul>
            <li><a href="{% url 'connexion' %}">Déconnecter</a></li>
        </ul>
    </div>
</div>
 </div>
        </div>

{% comment %} intefas inskripsyon an {% endcomment %}

  <div class="container">
    {% comment %} <h2 class="text-center mb-4">INSCRIPTION</h2> {% endcomment %}

    <!-- Bouton Ajouter -->
    <div class="mb-3 text-end">
      <button id="btnShowForm" class="btn btn-primary btn-custom">Inscrire</button>
    </div>
<!-- Formulaire (modal) -->
<div id="formModal" class="modal-overlay">
  <div class="modal-content">
    <span id="closeModal" class="close">&times;</span>
    <h4 class="mb-3 text-center">Formulaire Inscription</h4>
    <form id="inscriptionForm" enctype="multipart/form-data"> ✅ enctype obligatwa pou foto
    <form id="inscriptionsForm" enctype="multipart/form-data">

      
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label">Nom</label>
          <input type="text" class="form-control" placeholder="Nom" required>
        </div>
        <div class="col-md-6">
          <label class="form-label">Prénom</label>
          <input type="text" class="form-control" placeholder="Prénom" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label">Sexe</label>
          <select class="form-select">
            <option>Masculin</option>
            <option>Féminin</option>
          </select>
        </div>
        <div class="col-md-6">
          <label class="form-label">Adresse</label>
          <input type="text" class="form-control" placeholder="Adresse" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label">Date de naissance</label>
          <input type="date" class="form-control" required>
        </div>
        <div class="col-md-6">
          <label class="form-label">Classe</label>
          <input type="text" class="form-control" placeholder="Classe" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label">Téléphone</label>
          <input type="text" class="form-control" placeholder="Téléphone" required>
        </div>
        <div class="col-md-6">
          <label class="form-label">Nom Tuteur</label>
          <input type="text" class="form-control" placeholder="Nom Tuteur" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label">Téléphone Tuteur</label>
          <input type="text" class="form-control" placeholder="Téléphone Tuteur" required>
        </div>
        <div class="col-md-6">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" placeholder="Email" required>
        </div>
      </div>

      <div class="row mb-3 justify-content-center">
        <div class="col-md-6">
          <label class="form-label">Photo élève</label>
          <input type="file" class="form-control" name="photo" accept="image/*">
        </div>
      </div>

      <div class="text-center"> <!-- ✅ Bouton yo mete nan mitan -->
        <button type="submit" class="btn btn-custom btn-ajouter">Inscrire</button>
        <button type="button" id="cancelForm" class="btn btn-secondary btn-custom">Fermer</button>
      </div>
    </form>
  </div>
</div>

    <!-- Options affichage -->
    <div class="d-flex justify-content-between align-items-center mb-2">
      <div>
        <label>Afficher 
          <select class="form-select d-inline w-auto">
            <option>10</option>
            <option>25</option>
            <option>50</option>
          </select> 
          Inscription
        </label>
      </div>
    </div>
  <br>
    <!-- Table -->
    <div class="table-responsive">
      <table class="table table-bordered table-striped" id="tableEleves">
       <thead class="table-header-blue">
          <tbody>
  {% for eleve in eleves %}
  <tr>
    <td><img src="{{ eleve.photo.url }}" alt="Photo" width="50"></td>
    <td>{{ eleve.code_eleve }}</td>
    <td>{{ eleve.nom }}</td>
    <td>{{ eleve.prenom }}</td>
    <td>{{ eleve.sexe }}</td>
    <td>{{ eleve.adresse }}</td>
    <td>{{ eleve.date_naissance }}</td>
    <td>{{ eleve.classe }}</td>
    <td>{{ eleve.telephone }}</td>
    <td>{{ eleve.email }}</td>
    <td>{{ eleve.nom_tuteur }}</td>
    <td>{{ eleve.tel_tuteur }}</td>
    <td>
      <button class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i></button>
      <button class="btn btn-danger btn-sm"><i class="bi bi-trash"></i></button>
    </td>
  </tr>
  {% empty %}
  <tr><td colspan="13" class="text-center">Aucun élève inscrit</td></tr>
  {% endfor %}
</tbody>

      </table>
    </div>
  </div>
  

  <!-- JS -->
   <script src="{% static 'app_inscription/js/Inscription.js' %}"></script>
  <!-- <script src="{% static 'js/Inscription.js' %}"></script> -->
  <script src="{% static 'js/charts.js' %}"></script>

</body>
</html>
